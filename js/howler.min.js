/*
 howler.js v2.1.1
  howlerjs.com

  (c) 2013-2018, James Simpson of GoldFire Studios
  goldfirestudios.com

  MIT License
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(g){var d=0;return function(){return d<g.length?{done:!1,value:g[d++]}:{done:!0}}};$jscomp.arrayIterator=function(g){return{next:$jscomp.arrayIteratorImpl(g)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(g,d,l){g!=Array.prototype&&g!=Object.prototype&&(g[d]=l.value)};$jscomp.getGlobal=function(g){return"undefined"!=typeof window&&window===g?g:"undefined"!=typeof global&&null!=global?global:g};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(g,d){this.$jscomp$symbol$id_=g;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:d})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function g(l){if(this instanceof g)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(l||"")+"_"+d++,l)}var d=0;return g}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var g=$jscomp.global.Symbol.iterator;g||(g=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[g]&&$jscomp.defineProperty(Array.prototype,g,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var g=$jscomp.global.Symbol.asyncIterator;g||(g=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(g){$jscomp.initSymbolIterator();g={next:g};g[$jscomp.global.Symbol.iterator]=function(){return this};return g};
$jscomp.iteratorFromArray=function(g,d){$jscomp.initSymbolIterator();g instanceof String&&(g+="");var l=0,m={next:function(){if(l<g.length){var p=l++;return{value:d(p,g[p]),done:!1}}m.next=function(){return{done:!0,value:void 0}};return m.next()}};m[Symbol.iterator]=function(){return m};return m};
$jscomp.polyfill=function(g,d,l,m){if(d){l=$jscomp.global;g=g.split(".");for(m=0;m<g.length-1;m++){var p=g[m];p in l||(l[p]={});l=l[p]}g=g[g.length-1];m=l[g];d=d(m);d!=m&&null!=d&&$jscomp.defineProperty(l,g,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Array.prototype.keys",function(g){return g?g:function(){return $jscomp.iteratorFromArray(this,function(d){return d})}},"es6","es3");
(function(){var g=function(){this.init()};g.prototype={init:function(){var a=this||d;a._counter=1E3;a._html5AudioPool=[];a.html5PoolSize=10;a._codecs={};a._howls=[];a._muted=!1;a._volume=1;a._canPlayEvent="canplaythrough";a._navigator="undefined"!==typeof window&&window.navigator?window.navigator:null;a.masterGain=null;a.noAudio=!1;a.usingWebAudio=!0;a.autoSuspend=!0;a.ctx=null;a.autoUnlock=!0;a._setup();return a},volume:function(a){var b=this||d;a=parseFloat(a);b.ctx||q();if("undefined"!==typeof a&&
0<=a&&1>=a){b._volume=a;if(b._muted)return b;b.usingWebAudio&&b.masterGain.gain.setValueAtTime(a,d.ctx.currentTime);for(var c=0;c<b._howls.length;c++)if(!b._howls[c]._webAudio)for(var h=b._howls[c]._getSoundIds(),e=0;e<h.length;e++){var f=b._howls[c]._soundById(h[e]);f&&f._node&&(f._node.volume=f._volume*a)}return b}return b._volume},mute:function(a){var b=this||d;b.ctx||q();b._muted=a;b.usingWebAudio&&b.masterGain.gain.setValueAtTime(a?0:b._volume,d.ctx.currentTime);for(var c=0;c<b._howls.length;c++)if(!b._howls[c]._webAudio)for(var h=
b._howls[c]._getSoundIds(),e=0;e<h.length;e++){var f=b._howls[c]._soundById(h[e]);f&&f._node&&(f._node.muted=a?!0:f._muted)}return b},unload:function(){for(var a=this||d,b=a._howls.length-1;0<=b;b--)a._howls[b].unload();a.usingWebAudio&&a.ctx&&"undefined"!==typeof a.ctx.close&&(a.ctx.close(),a.ctx=null,q());return a},codecs:function(a){return(this||d)._codecs[a.replace(/^x-/,"")]},_setup:function(){var a=this||d;a.state=a.ctx?a.ctx.state||"suspended":"suspended";a._autoSuspend();if(!a.usingWebAudio)if("undefined"!==
typeof Audio)try{var b=new Audio;"undefined"===typeof b.oncanplaythrough&&(a._canPlayEvent="canplay")}catch(c){a.noAudio=!0}else a.noAudio=!0;try{b=new Audio,b.muted&&(a.noAudio=!0)}catch(c){}a.noAudio||a._setupCodecs();return a},_setupCodecs:function(){var a=this||d,b=null;try{b="undefined"!==typeof Audio?new Audio:null}catch(e){return a}if(!b||"function"!==typeof b.canPlayType)return a;var c=b.canPlayType("audio/mpeg;").replace(/^no$/,""),h=a._navigator&&a._navigator.userAgent.match(/OPR\/([0-6].)/g);
h=h&&33>parseInt(h[0].split("/")[1],10);a._codecs={mp3:!(h||!c&&!b.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!c,opus:!!b.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!b.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!b.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!b.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!b.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!b.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(b.canPlayType("audio/x-m4a;")||
b.canPlayType("audio/m4a;")||b.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(b.canPlayType("audio/x-mp4;")||b.canPlayType("audio/mp4;")||b.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!b.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!b.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!b.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(b.canPlayType("audio/x-flac;")||b.canPlayType("audio/flac;")).replace(/^no$/,"")};return a},
_unlockAudio:function(){var a=this||d,b=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi|Chrome|Safari/i.test(a._navigator&&a._navigator.userAgent);if(!a._audioUnlocked&&a.ctx&&b){a._audioUnlocked=!1;a.autoUnlock=!1;a._mobileUnloaded||44100===a.ctx.sampleRate||(a._mobileUnloaded=!0,a.unload());a._scratchBuffer=a.ctx.createBuffer(1,1,22050);var c=function(b){for(b=0;b<a.html5PoolSize;b++){var d=new Audio;d._unlocked=!0;a._releaseHtml5Audio(d)}for(b=0;b<a._howls.length;b++)if(!a._howls[b]._webAudio){d=
a._howls[b]._getSoundIds();for(var h=0;h<d.length;h++){var k=a._howls[b]._soundById(d[h]);k&&k._node&&!k._node._unlocked&&(k._node._unlocked=!0,k._node.load())}}a._autoResume();var g=a.ctx.createBufferSource();g.buffer=a._scratchBuffer;g.connect(a.ctx.destination);"undefined"===typeof g.start?g.noteOn(0):g.start(0);"function"===typeof a.ctx.resume&&a.ctx.resume();g.onended=function(){g.disconnect(0);a._audioUnlocked=!0;document.removeEventListener("touchstart",c,!0);document.removeEventListener("touchend",
c,!0);document.removeEventListener("click",c,!0);for(var b=0;b<a._howls.length;b++)a._howls[b]._emit("unlock")}};document.addEventListener("touchstart",c,!0);document.addEventListener("touchend",c,!0);document.addEventListener("click",c,!0);return a}},_obtainHtml5Audio:function(){var a=this||d;if(a._html5AudioPool.length)return a._html5AudioPool.pop();(a=(new Audio).play())&&"undefined"!==typeof Promise&&(a instanceof Promise||"function"===typeof a.then)&&a.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")});
return new Audio},_releaseHtml5Audio:function(a){var b=this||d;a._unlocked&&b._html5AudioPool.push(a);return b},_autoSuspend:function(){var a=this;if(a.autoSuspend&&a.ctx&&"undefined"!==typeof a.ctx.suspend&&d.usingWebAudio){for(var b=0;b<a._howls.length;b++)if(a._howls[b]._webAudio)for(var c=0;c<a._howls[b]._sounds.length;c++)if(!a._howls[b]._sounds[c]._paused)return a;a._suspendTimer&&clearTimeout(a._suspendTimer);a._suspendTimer=setTimeout(function(){a.autoSuspend&&(a._suspendTimer=null,a.state=
"suspending",a.ctx.suspend().then(function(){a.state="suspended";a._resumeAfterSuspend&&(delete a._resumeAfterSuspend,a._autoResume())}))},3E4);return a}},_autoResume:function(){var a=this;if(a.ctx&&"undefined"!==typeof a.ctx.resume&&d.usingWebAudio)return"running"===a.state&&a._suspendTimer?(clearTimeout(a._suspendTimer),a._suspendTimer=null):"suspended"===a.state?(a.ctx.resume().then(function(){a.state="running";for(var b=0;b<a._howls.length;b++)a._howls[b]._emit("resume")}),a._suspendTimer&&(clearTimeout(a._suspendTimer),
a._suspendTimer=null)):"suspending"===a.state&&(a._resumeAfterSuspend=!0),a}};var d=new g,l=function(a){a.src&&0!==a.src.length?this.init(a):console.error("An array of source files must be passed with any new Howl.")};l.prototype={init:function(a){var b=this;d.ctx||q();b._autoplay=a.autoplay||!1;b._format="string"!==typeof a.format?a.format:[a.format];b._html5=a.html5||!1;b._muted=a.mute||!1;b._loop=a.loop||!1;b._pool=a.pool||5;b._preload="boolean"===typeof a.preload?a.preload:!0;b._rate=a.rate||
1;b._sprite=a.sprite||{};b._src="string"!==typeof a.src?a.src:[a.src];b._volume=void 0!==a.volume?a.volume:1;b._xhrWithCredentials=a.xhrWithCredentials||!1;b._duration=0;b._state="unloaded";b._sounds=[];b._endTimers={};b._queue=[];b._playLock=!1;b._onend=a.onend?[{fn:a.onend}]:[];b._onfade=a.onfade?[{fn:a.onfade}]:[];b._onload=a.onload?[{fn:a.onload}]:[];b._onloaderror=a.onloaderror?[{fn:a.onloaderror}]:[];b._onplayerror=a.onplayerror?[{fn:a.onplayerror}]:[];b._onpause=a.onpause?[{fn:a.onpause}]:
[];b._onplay=a.onplay?[{fn:a.onplay}]:[];b._onstop=a.onstop?[{fn:a.onstop}]:[];b._onmute=a.onmute?[{fn:a.onmute}]:[];b._onvolume=a.onvolume?[{fn:a.onvolume}]:[];b._onrate=a.onrate?[{fn:a.onrate}]:[];b._onseek=a.onseek?[{fn:a.onseek}]:[];b._onunlock=a.onunlock?[{fn:a.onunlock}]:[];b._onresume=[];b._webAudio=d.usingWebAudio&&!b._html5;"undefined"!==typeof d.ctx&&d.ctx&&d.autoUnlock&&d._unlockAudio();d._howls.push(b);b._autoplay&&b._queue.push({event:"play",action:function(){b.play()}});b._preload&&
b.load();return b},load:function(){var a=null;if(d.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"===typeof this._src&&(this._src=[this._src]);for(var b=0;b<this._src.length;b++){if(this._format&&this._format[b])var c=this._format[b];else{var h=this._src[b];if("string"!==typeof h){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(c=/^data:audio\/([^;,]+);/i.exec(h))||(c=/\.([^.]+)$/.exec(h.split("?",1)[0]));c&&(c=c[1].toLowerCase())}c||
console.warn('No file extension was found. Consider using the "format" property or specify an extension.');if(c&&d.codecs(c)){a=this._src[b];break}}if(a)return this._src=a,this._state="loading","https:"===window.location.protocol&&"http:"===a.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new m(this),this._webAudio&&x(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(a,b){var c=this,h=null;if("number"===typeof a)h=a,a=null;else{if("string"===typeof a&&
"loaded"===c._state&&!c._sprite[a])return null;if("undefined"===typeof a&&(a="__default",!c._playLock)){for(var e=0,f=0;f<c._sounds.length;f++)c._sounds[f]._paused&&!c._sounds[f]._ended&&(e++,h=c._sounds[f]._id);1===e?a=null:h=null}}var k=h?c._soundById(h):c._inactiveSound();if(!k)return null;h&&!a&&(a=k._sprite||"__default");if("loaded"!==c._state){k._sprite=a;k._ended=!1;var g=k._id;c._queue.push({event:"play",action:function(){c.play(g)}});return g}if(h&&!k._paused)return b||c._loadQueue("play"),
k._id;c._webAudio&&d._autoResume();var l=Math.max(0,0<k._seek?k._seek:c._sprite[a][0]/1E3),m=Math.max(0,(c._sprite[a][0]+c._sprite[a][1])/1E3-l),p=1E3*m/Math.abs(k._rate),q=c._sprite[a][0]/1E3,r=(c._sprite[a][0]+c._sprite[a][1])/1E3,t=!(!k._loop&&!c._sprite[a][2]);k._sprite=a;k._ended=!1;var u=function(){k._paused=!1;k._seek=l;k._start=q;k._stop=r;k._loop=t};if(l>=r)c._ended(k);else{var n=k._node;if(c._webAudio)h=function(){c._playLock=!1;u();c._refreshBuffer(k);n.gain.setValueAtTime(k._muted||c._muted?
0:k._volume,d.ctx.currentTime);k._playStart=d.ctx.currentTime;"undefined"===typeof n.bufferSource.start?k._loop?n.bufferSource.noteGrainOn(0,l,86400):n.bufferSource.noteGrainOn(0,l,m):k._loop?n.bufferSource.start(0,l,86400):n.bufferSource.start(0,l,m);Infinity!==p&&(c._endTimers[k._id]=setTimeout(c._ended.bind(c,k),p));b||setTimeout(function(){c._emit("play",k._id);c._loadQueue()},0)},"running"===d.state?h():(c._playLock=!0,c.once("resume",h),c._clearTimer(k._id));else{var v=function(){n.currentTime=
l;n.muted=k._muted||c._muted||d._muted||n.muted;n.volume=k._volume*d.volume();n.playbackRate=k._rate;try{var h=n.play();h&&"undefined"!==typeof Promise&&(h instanceof Promise||"function"===typeof h.then)?(c._playLock=!0,u(),h.then(function(){c._playLock=!1;n._unlocked=!0;b||(c._emit("play",k._id),c._loadQueue())}).catch(function(){c._playLock=!1;c._emit("playerror",k._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
k._ended=!0;k._paused=!0})):b||(c._playLock=!1,u(),c._emit("play",k._id),c._loadQueue());n.playbackRate=k._rate;n.paused?c._emit("playerror",k._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."):"__default"!==a||k._loop?c._endTimers[k._id]=setTimeout(c._ended.bind(c,k),p):(c._endTimers[k._id]=function(){c._ended(k);n.removeEventListener("ended",c._endTimers[k._id],!1)},n.addEventListener("ended",c._endTimers[k._id],
!1))}catch(y){c._emit("playerror",k._id,y)}};h=window&&window.ejecta||!n.readyState&&d._navigator.isCocoonJS;if(3<=n.readyState||h)v();else{c._playLock=!0;var w=function(){v();n.removeEventListener(d._canPlayEvent,w,!1)};n.addEventListener(d._canPlayEvent,w,!1);c._clearTimer(k._id)}}return k._id}},pause:function(a,b){var c=this;if("loaded"!==c._state||c._playLock)return c._queue.push({event:"pause",action:function(){c.pause(a)}}),c;for(var d=c._getSoundIds(a),e=0;e<d.length;e++){c._clearTimer(d[e]);
var f=c._soundById(d[e]);if(f&&!f._paused&&(f._seek=c.seek(d[e]),f._rateSeek=0,f._paused=!0,c._stopFade(d[e]),f._node))if(c._webAudio){if(!f._node.bufferSource)continue;"undefined"===typeof f._node.bufferSource.stop?f._node.bufferSource.noteOff(0):f._node.bufferSource.stop(0);c._cleanBuffer(f._node)}else isNaN(f._node.duration)&&Infinity!==f._node.duration||f._node.pause();b||c._emit("pause",f?f._id:null)}return c},stop:function(a,b){var c=this;if("loaded"!==c._state||c._playLock)return c._queue.push({event:"stop",
action:function(){c.stop(a)}}),c;for(var d=c._getSoundIds(a),e=0;e<d.length;e++){c._clearTimer(d[e]);var f=c._soundById(d[e]);f&&(f._seek=f._start||0,f._rateSeek=0,f._paused=!0,f._ended=!0,c._stopFade(d[e]),f._node&&(c._webAudio?f._node.bufferSource&&("undefined"===typeof f._node.bufferSource.stop?f._node.bufferSource.noteOff(0):f._node.bufferSource.stop(0),c._cleanBuffer(f._node)):isNaN(f._node.duration)&&Infinity!==f._node.duration||(f._node.currentTime=f._start||0,f._node.pause())),b||c._emit("stop",
f._id))}return c},mute:function(a,b){var c=this;if("loaded"!==c._state||c._playLock)return c._queue.push({event:"mute",action:function(){c.mute(a,b)}}),c;if("undefined"===typeof b)if("boolean"===typeof a)c._muted=a;else return c._muted;for(var h=c._getSoundIds(b),e=0;e<h.length;e++){var f=c._soundById(h[e]);f&&(f._muted=a,f._interval&&c._stopFade(f._id),c._webAudio&&f._node?f._node.gain.setValueAtTime(a?0:f._volume,d.ctx.currentTime):f._node&&(f._node.muted=d._muted?!0:a),c._emit("mute",f._id))}return c},
volume:function(){var a=this,b=arguments,c,h;if(0===b.length)return a._volume;1===b.length||2===b.length&&"undefined"===typeof b[1]?0<=a._getSoundIds().indexOf(b[0])?h=parseInt(b[0],10):c=parseFloat(b[0]):2<=b.length&&(c=parseFloat(b[0]),h=parseInt(b[1],10));var e;if("undefined"!==typeof c&&0<=c&&1>=c){if("loaded"!==a._state||a._playLock)return a._queue.push({event:"volume",action:function(){a.volume.apply(a,b)}}),a;"undefined"===typeof h&&(a._volume=c);h=a._getSoundIds(h);for(var f=0;f<h.length;f++)if(e=
a._soundById(h[f]))e._volume=c,b[2]||a._stopFade(h[f]),a._webAudio&&e._node&&!e._muted?e._node.gain.setValueAtTime(c,d.ctx.currentTime):e._node&&!e._muted&&(e._node.volume=c*d.volume()),a._emit("volume",e._id)}else return(e=h?a._soundById(h):a._sounds[0])?e._volume:0;return a},fade:function(a,b,c,h){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"fade",action:function(){e.fade(a,b,c,h)}}),e;a=parseFloat(a);b=parseFloat(b);c=parseFloat(c);e.volume(a,h);for(var f=e._getSoundIds(h),
k=0;k<f.length;k++){var g=e._soundById(f[k]);if(g){h||e._stopFade(f[k]);if(e._webAudio&&!g._muted){var l=d.ctx.currentTime,m=l+c/1E3;g._volume=a;g._node.gain.setValueAtTime(a,l);g._node.gain.linearRampToValueAtTime(b,m)}e._startFadeInterval(g,a,b,c,f[k],"undefined"===typeof h)}}return e},_startFadeInterval:function(a,b,c,d,e,f){var h=this,g=b,l=c-b;e=Math.abs(l/.01);e=Math.max(4,0<e?d/e:d);var m=Date.now();a._fadeTo=c;a._interval=setInterval(function(){var e=(Date.now()-m)/d;m=Date.now();g+=l*e;g=
Math.max(0,g);g=Math.min(1,g);g=Math.round(100*g)/100;h._webAudio?a._volume=g:h.volume(g,a._id,!0);f&&(h._volume=g);if(c<b&&g<=c||c>b&&g>=c)clearInterval(a._interval),a._interval=null,a._fadeTo=null,h.volume(c,a._id),h._emit("fade",a._id)},e)},_stopFade:function(a){var b=this._soundById(a);b&&b._interval&&(this._webAudio&&b._node.gain.cancelScheduledValues(d.ctx.currentTime),clearInterval(b._interval),b._interval=null,this.volume(b._fadeTo,a),b._fadeTo=null,this._emit("fade",a));return this},loop:function(){var a=
arguments,b;if(0===a.length)return this._loop;if(1===a.length)if("boolean"===typeof a[0])this._loop=b=a[0];else return(a=this._soundById(parseInt(a[0],10)))?a._loop:!1;else if(2===a.length){b=a[0];var c=parseInt(a[1],10)}c=this._getSoundIds(c);for(var d=0;d<c.length;d++)if(a=this._soundById(c[d]))if(a._loop=b,this._webAudio&&a._node&&a._node.bufferSource&&(a._node.bufferSource.loop=b))a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop;return this},rate:function(){var a=
this,b=arguments,c;if(0===b.length)var h=a._sounds[0]._id;else 1===b.length?0<=a._getSoundIds().indexOf(b[0])?h=parseInt(b[0],10):c=parseFloat(b[0]):2===b.length&&(c=parseFloat(b[0]),h=parseInt(b[1],10));var e;if("number"===typeof c){if("loaded"!==a._state||a._playLock)return a._queue.push({event:"rate",action:function(){a.rate.apply(a,b)}}),a;"undefined"===typeof h&&(a._rate=c);h=a._getSoundIds(h);for(var f=0;f<h.length;f++)if(e=a._soundById(h[f])){a.playing(h[f])&&(e._rateSeek=a.seek(h[f]),e._playStart=
a._webAudio?d.ctx.currentTime:e._playStart);e._rate=c;a._webAudio&&e._node&&e._node.bufferSource?e._node.bufferSource.playbackRate.setValueAtTime(c,d.ctx.currentTime):e._node&&(e._node.playbackRate=c);var g=a.seek(h[f]);g=1E3*((a._sprite[e._sprite][0]+a._sprite[e._sprite][1])/1E3-g)/Math.abs(e._rate);if(a._endTimers[h[f]]||!e._paused)a._clearTimer(h[f]),a._endTimers[h[f]]=setTimeout(a._ended.bind(a,e),g);a._emit("rate",e._id)}}else return(e=a._soundById(h))?e._rate:a._rate;return a},seek:function(){var a=
this,b=arguments;if(0===b.length)var c=a._sounds[0]._id;else if(1===b.length)if(0<=a._getSoundIds().indexOf(b[0]))c=parseInt(b[0],10);else{if(a._sounds.length){c=a._sounds[0]._id;var h=parseFloat(b[0])}}else 2===b.length&&(h=parseFloat(b[0]),c=parseInt(b[1],10));if("undefined"===typeof c)return a;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"seek",action:function(){a.seek.apply(a,b)}}),a;var e=a._soundById(c);if(e)if("number"===typeof h&&0<=h){var f=a.playing(c);f&&a.pause(c,!0);
e._seek=h;e._ended=!1;a._clearTimer(c);a._webAudio||!e._node||isNaN(e._node.duration)||(e._node.currentTime=h);var g=function(){a._emit("seek",c);f&&a.play(c,!0)};if(f&&!a._webAudio){var l=function(){a._playLock?setTimeout(l,0):g()};setTimeout(l,0)}else g()}else return a._webAudio?(h=a.playing(c)?d.ctx.currentTime-e._playStart:0,e._seek+((e._rateSeek?e._rateSeek-e._seek:0)+h*Math.abs(e._rate))):e._node.currentTime;return a},playing:function(a){if("number"===typeof a)return(a=this._soundById(a))?!a._paused:
!1;for(a=0;a<this._sounds.length;a++)if(!this._sounds[a]._paused)return!0;return!1},duration:function(a){var b=this._duration;(a=this._soundById(a))&&(b=this._sprite[a._sprite][1]/1E3);return b},state:function(){return this._state},unload:function(){for(var a=this._sounds,b=0;b<a.length;b++)a[b]._paused||this.stop(a[b]._id),this._webAudio||(/MSIE |Trident\//.test(d._navigator&&d._navigator.userAgent)||(a[b]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"),
a[b]._node.removeEventListener("error",a[b]._errorFn,!1),a[b]._node.removeEventListener(d._canPlayEvent,a[b]._loadFn,!1),d._releaseHtml5Audio(a[b]._node)),delete a[b]._node,this._clearTimer(a[b]._id);b=d._howls.indexOf(this);0<=b&&d._howls.splice(b,1);a=!0;for(b=0;b<d._howls.length;b++)if(d._howls[b]._src===this._src||0<=this._src.indexOf(d._howls[b]._src)){a=!1;break}p&&a&&delete p[this._src];d.noAudio=!1;this._state="unloaded";this._sounds=[];return null},on:function(a,b,c,d){a=this["_on"+a];"function"===
typeof b&&a.push(d?{id:c,fn:b,once:d}:{id:c,fn:b});return this},off:function(a,b,c){var d=this["_on"+a];"number"===typeof b&&(c=b,b=null);if(b||c)for(a=0;a<d.length;a++){var e=c===d[a].id;if(b===d[a].fn&&e||!b&&e){d.splice(a,1);break}}else if(a)this["_on"+a]=[];else for(b=Object.keys(this),a=0;a<b.length;a++)0===b[a].indexOf("_on")&&Array.isArray(this[b[a]])&&(this[b[a]]=[]);return this},once:function(a,b,c){this.on(a,b,c,1);return this},_emit:function(a,b,c){for(var d=this["_on"+a],e=d.length-1;0<=
e;e--)d[e].id&&d[e].id!==b&&"load"!==a||(setTimeout(function(a){a.call(this,b,c)}.bind(this,d[e].fn),0),d[e].once&&this.off(a,d[e].fn,d[e].id));this._loadQueue(a);return this},_loadQueue:function(a){if(0<this._queue.length){var b=this._queue[0];b.event===a&&(this._queue.shift(),this._loadQueue());a||b.action()}return this},_ended:function(a){var b=a._sprite;if(!this._webAudio&&a._node&&!a._node.paused&&!a._node.ended&&a._node.currentTime<a._stop)return setTimeout(this._ended.bind(this,a),100),this;
b=!(!a._loop&&!this._sprite[b][2]);this._emit("end",a._id);!this._webAudio&&b&&this.stop(a._id,!0).play(a._id);if(this._webAudio&&b){this._emit("play",a._id);a._seek=a._start||0;a._rateSeek=0;a._playStart=d.ctx.currentTime;var c=1E3*(a._stop-a._start)/Math.abs(a._rate);this._endTimers[a._id]=setTimeout(this._ended.bind(this,a),c)}this._webAudio&&!b&&(a._paused=!0,a._ended=!0,a._seek=a._start||0,a._rateSeek=0,this._clearTimer(a._id),this._cleanBuffer(a._node),d._autoSuspend());this._webAudio||b||this.stop(a._id,
!0);return this},_clearTimer:function(a){if(this._endTimers[a]){if("function"!==typeof this._endTimers[a])clearTimeout(this._endTimers[a]);else{var b=this._soundById(a);b&&b._node&&b._node.removeEventListener("ended",this._endTimers[a],!1)}delete this._endTimers[a]}return this},_soundById:function(a){for(var b=0;b<this._sounds.length;b++)if(a===this._sounds[b]._id)return this._sounds[b];return null},_inactiveSound:function(){this._drain();for(var a=0;a<this._sounds.length;a++)if(this._sounds[a]._ended)return this._sounds[a].reset();
return new m(this)},_drain:function(){var a=this._pool,b=0,c;if(!(this._sounds.length<a)){for(c=0;c<this._sounds.length;c++)this._sounds[c]._ended&&b++;for(c=this._sounds.length-1;0<=c&&!(b<=a);c--)this._sounds[c]._ended&&(this._webAudio&&this._sounds[c]._node&&this._sounds[c]._node.disconnect(0),this._sounds.splice(c,1),b--)}},_getSoundIds:function(a){if("undefined"===typeof a){a=[];for(var b=0;b<this._sounds.length;b++)a.push(this._sounds[b]._id);return a}return[a]},_refreshBuffer:function(a){a._node.bufferSource=
d.ctx.createBufferSource();a._node.bufferSource.buffer=p[this._src];a._panner?a._node.bufferSource.connect(a._panner):a._node.bufferSource.connect(a._node);if(a._node.bufferSource.loop=a._loop)a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop||0;a._node.bufferSource.playbackRate.setValueAtTime(a._rate,d.ctx.currentTime);return this},_cleanBuffer:function(a){var b=d._navigator&&0<=d._navigator.vendor.indexOf("Apple");if(d._scratchBuffer&&a.bufferSource&&(a.bufferSource.onended=
null,a.bufferSource.disconnect(0),b))try{a.bufferSource.buffer=d._scratchBuffer}catch(c){}a.bufferSource=null;return this}};var m=function(a){this._parent=a;this.init()};m.prototype={init:function(){var a=this._parent;this._muted=a._muted;this._loop=a._loop;this._volume=a._volume;this._rate=a._rate;this._seek=0;this._ended=this._paused=!0;this._sprite="__default";this._id=++d._counter;a._sounds.push(this);this.create();return this},create:function(){var a=this._parent,b=d._muted||this._muted||this._parent._muted?
0:this._volume;a._webAudio?(this._node="undefined"===typeof d.ctx.createGain?d.ctx.createGainNode():d.ctx.createGain(),this._node.gain.setValueAtTime(b,d.ctx.currentTime),this._node.paused=!0,this._node.connect(d.masterGain)):(this._node=d._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(d._canPlayEvent,this._loadFn,!1),this._node.src=a._src,this._node.preload=
"auto",this._node.volume=b*d.volume(),this._node.load());return this},reset:function(){var a=this._parent;this._muted=a._muted;this._loop=a._loop;this._volume=a._volume;this._rate=a._rate;this._rateSeek=this._seek=0;this._ended=this._paused=!0;this._sprite="__default";this._id=++d._counter;return this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0);this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var a=
this._parent;a._duration=Math.ceil(10*this._node.duration)/10;0===Object.keys(a._sprite).length&&(a._sprite={__default:[0,1E3*a._duration]});"loaded"!==a._state&&(a._state="loaded",a._emit("load"),a._loadQueue());this._node.removeEventListener(d._canPlayEvent,this._loadFn,!1)}};var p={},x=function(a){var b=a._src;if(p[b])a._duration=p[b].duration,r(a);else if(/^data:[^;]+;base64,/.test(b)){for(var c=atob(b.split(",")[1]),d=new Uint8Array(c.length),e=0;e<c.length;++e)d[e]=c.charCodeAt(e);t(d.buffer,
a)}else{var f=new XMLHttpRequest;f.open("GET",b,!0);f.withCredentials=a._xhrWithCredentials;f.responseType="arraybuffer";f.onload=function(){var b=(f.status+"")[0];"0"!==b&&"2"!==b&&"3"!==b?a._emit("loaderror",null,"Failed loading audio file with status: "+f.status+"."):t(f.response,a)};f.onerror=function(){a._webAudio&&(a._html5=!0,a._webAudio=!1,a._sounds=[],delete p[b],a.load())};z(f)}},z=function(a){try{a.send()}catch(b){a.onerror()}},t=function(a,b){var c=function(){b._emit("loaderror",null,
"Decoding audio data failed.")},g=function(a){a&&0<b._sounds.length?(p[b._src]=a,r(b,a)):c()};"undefined"!==typeof Promise&&1===d.ctx.decodeAudioData.length?d.ctx.decodeAudioData(a).then(g).catch(c):d.ctx.decodeAudioData(a,g,c)},r=function(a,b){b&&!a._duration&&(a._duration=b.duration);0===Object.keys(a._sprite).length&&(a._sprite={__default:[0,1E3*a._duration]});"loaded"!==a._state&&(a._state="loaded",a._emit("load"),a._loadQueue())},q=function(){if(d.usingWebAudio){try{"undefined"!==typeof AudioContext?
d.ctx=new AudioContext:"undefined"!==typeof webkitAudioContext?d.ctx=new webkitAudioContext:d.usingWebAudio=!1}catch(c){d.usingWebAudio=!1}d.ctx||(d.usingWebAudio=!1);var a=/iP(hone|od|ad)/.test(d._navigator&&d._navigator.platform),b=d._navigator&&d._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);b=b?parseInt(b[1],10):null;a&&b&&9>b&&(a=/safari/.test(d._navigator&&d._navigator.userAgent.toLowerCase()),d._navigator&&d._navigator.standalone&&!a||d._navigator&&!d._navigator.standalone&&!a)&&(d.usingWebAudio=
!1);d.usingWebAudio&&(d.masterGain="undefined"===typeof d.ctx.createGain?d.ctx.createGainNode():d.ctx.createGain(),d.masterGain.gain.setValueAtTime(d._muted?0:1,d.ctx.currentTime),d.masterGain.connect(d.ctx.destination));d._setup()}};"function"===typeof define&&define.amd&&define([],function(){return{Howler:d,Howl:l}});"undefined"!==typeof exports&&(exports.Howler=d,exports.Howl=l);"undefined"!==typeof window?(window.HowlerGlobal=g,window.Howler=d,window.Howl=l,window.Sound=m):"undefined"!==typeof global&&
(global.HowlerGlobal=g,global.Howler=d,global.Howl=l,global.Sound=m)})();
